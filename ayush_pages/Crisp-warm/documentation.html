<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en" dir="ltr"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang="en" dir="ltr"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en" dir="ltr"> <![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" dir="ltr"><!--<![endif]-->

<head>
<title>Documentation | Minrva</title>

<!-- Meta Data ================ -->
<meta charset="UTF-8" />
<meta name="description" content="Fill this in with your information" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<!-- CSS ================ -->
<link rel="stylesheet" href="assets/css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="assets/css/style.css" type="text/css"/>
<link rel="stylesheet" href="assets/css/header-1.css" type="text/css"/>
<link rel="stylesheet" href="../demo/demo.css" type="text/css" media="all">
<link rel="stylesheet" href="../demo/theme-google.css" type="text/css" media="all">

<!-- Icons ================ -->
<!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
<link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.png" />
<!-- For first- and second-generation iPad: -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72-precomposed.png" />
<!-- For iPhone with high-resolution Retina display: -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114-precomposed.png" />
<!-- For third-generation iPad with high-resolution Retina display: -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144x144-precomposed.png" />
<link rel="shortcut icon" href="favicon.ico" />

<!-- Open Graph for facebook
http://graph.facebook.com/[UserName] replace [UserName] 
with yours and get your fb:admis content information where the XXXX goes.
================================================== -->
<meta property="og:title" content="" />
<meta property="og:type" content="" />
<meta property="og:url" content="" />
<meta property="og:image" content=""/>
<meta property="og:site_name" content="" />
<meta property="fb:admins" content="XXXXX" />
<meta property="og:locale" content="en_us" />
<meta property="og:description" content="  " />

<!-- JS JQuery in the head you can use ajax if you want ================ -->
<script src="assets/js/jquery.min.js"></script>

<!-- Add to Head after Style sheet http://modernizr.com/docs/#installing  ================ -->
<script src="assets/js/modernizr.custom.87724.js"></script><!-- js multiple backgrounds svg background size -->



<!-- Include jQuery Syntax Highlighter -->
<script type="text/javascript" src="../demo/jquery.syntaxhighlighter.min.js"></script>

<!-- Initialise jQuery Syntax Highlighter -->
<script type="text/javascript">$.SyntaxHighlighter.init();</script>


</head>
<body class="about">

<!-- begin accesibility skip to nav skip content -->
<ul class="visuallyhidden" id="top">
	<li><a href="#nav" title="Skip to navigation" accesskey="n">Skip to navigation</a></li>
	<li><a href="#page" title="Skip to content" accesskey="c">Skip to content</a></li>
</ul>
<!-- end /.visuallyhidden accesibility--> 

<!-- mobile navigation trigger-->
<h5 class="mobile_nav"><a href="javascript:void(0)">&nbsp;<span></span></a></h5>
<!--end mobile navigation trigger-->

<section class="container preheader"> 
	
	<!--this is the login for the user-->
	<nav class="user clearfix"> <a href="login.html"><i class="icon-user"></i> Login</a> </nav>
	<!--close user nav-->
	
	<div class="search-wrapper">
		<form class="search" method="post" action="someaction.php">
			<div id="search-trigger">Search:</div>
			<input id="search-box" type="text" placeholder="search + enter">
		</form>
	</div>
	<div class="phone"><a href="tel:8135551234" class="tele">813.555.1234</a></div>
	<ul class="social">
		<li><a class="socicon small rss" href="#" data-placement="bottom" title="Subscribe to our RSS feed"></a></li>
		<li><a class="socicon small facebook" href="#" data-placement="bottom" title="Follow us on Facebook"></a></li>
		<li><a class="socicon small twitterbird" href="#" data-placement="bottom" title="Follow us on Twitter"></a></li>
		<li><a class="socicon small linkedin" href="#" data-placement="bottom" title="Follow us on LinkedIn"></a></li>
		<li><a class="socicon small dribbble" href="#" data-placement="bottom" title="Follow us on dribble"></a></li>
		<li><a class="socicon small vimeo" href="#" data-placement="bottom" title="Follow us on Vimeo"></a></li>
	</ul>
</section>

<header class="header  clearfix"> <img src="drawable-hdpi/ic_launcher_owl.png" class="print logo" alt="name of company" />
	<div class="container"> 


		
		<!-- begin #main_menu -->
		<nav id="main_menu">
			<h1>Minrva Project</h1>
			<ul class="accordmobile">
				<li><a href="index.html">Home</a></li>
				<li class="parent"><a href="javascript:void(0)">About the App<i></i></a>
					<ul>
						<li><a href="tall-logo.html">General Info</a></li>
						<li><a href="tall-logo.html">Modules</a></li>
						
					</ul>
				</li>
				<li class="parent"><a href="people.html">People<i></i></a>
				</li>
				<li class="active"><a href="documentation.html">Technical Documentation<i></i></a>
					
				</li>
				<li class="parent"><a href="javascript:void(0)">New!<i></i></a>
					
				</li>
				
			</ul>
		</nav>
		<!-- close / #main_menu --> 
		
		<!-- begin #logo -->
		<div id="logo"> <a href="index.html"><img alt="" src="drawable-hdpi/ic_launcher_owl.png" /><em>Crisp Responsive HTML Retina Ready Bootstrap Goodness</em><!--effing ie7 support--></a> </div>
		<!-- end #logo --> 
		
	</div>
	<!-- close / .container--> 
</header>
<!-- close /.header --> 

<!-- begin #page - the container for everything but header -->
<div id="page">
	<div class="hero-unit">
		<div class="container">
			<h2>Documentation</h2>
		</div>
		<!--close container--> 
	</div>
	<!--close hero-unit-->
	
	<div class="container clearfix" id="main-content"> 
		
		<!--begin main content-->
		<h2>How to create an Android Application</h2>
		<h5>Version 0.1</h5>
		<h5>Copyright</h5>
		<h5>03.31.13</h5>

		<table class="table table-bordered table-striped table-hover">
			<thead>
				<tr>
					<th colspan="4">Revision History</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td> Revision 0.1 </td>
					<td>03.31.13</td>
					<td>(Senior Project Group Names)</td>
					<td>created</td>
				</tr>
			</tbody>
		</table>
		<h2> Creating a basic Android application </h2>
		<p>This tutorial covers writing a basic Android application that will access a Minrva web service.</p>
		<p>In this tutorial, Eclipse (4.2) and Android (2.3) is used.</p>
		<h3 class="short_headline"><span>Table of Contents</span></h3>
				<ol>
					<li> <a href="#installation">Installation</a>
						<ol>
							<li>Installing Eclipse</li>
							<li>Installing the ADT through Eclipse</li>
						</ol>
					</li>
					<li> <a href="#settingAndroid">Setting up an Android Project</a>
						<ol>
							<li>Create a sample module</li>
							<li>How to create an Android Application</li>
						</ol>
					</li>

					<li> <a href="#settingMinrva">Setting up the Minrva Project and GreenDroid </a>
						<ol>
							<li>Clone the Minrva project</li>
							<li>Import the Minrva Project into Eclipse</li>
							<li>Import GreenDroid</li>
							<li>Link GreenDroid and Minrva</li>
							<li>Start the application</li>
							<ol>
								<li>Running on an emulator</li>
								<li>Running on a connected device</li>
							</ol>
							<li>Start using Minrva!</li>
						</ol>
					</li>
					<li><a href="#generalModule">General module example (this is how the app generally works!) </a></li>
					<ol>
							<li>Logging in & Fines.onSuccessfulLogin()</li>
							<li>The DownloadFines Class</li>
							<li>The bindData() method</li>
					</ol>
					<li><a href="#createNew">Creating a new module for Minrva </a></li>
					<ol>
							<li><a href="#finalCode">Final Code</a></li>
							<ol>
								<li>HelloWorld.java</li>
								<li>hello_world.xml</li>
								<li>Final Module Screenshot</li>
							</ol>
					</ol>
				</ol>
		<h3 class="short_headline" ><span><a name="installation">Installation</a></span></h3>
		<h6>Installing Eclipse:</h6>
		<p>Version 4.2.2 of Eclipse IDE is available here: </p>
		<p><a href="http://www.eclipse.org/downloads/packages/eclipse-classic-422/junosr2" target="_blank">http://www.eclipse.org/downloads/packages/eclipse-classic-422/junosr2</a></p>
		<p>Follow instruction on this page to download and install Eclipse.</p>
		<h6>Installing the ADT (Android Development Tools) through Eclipse:</h6>
		<p>Follow the instructions given here to install the ADT plugin through Eclispe: </p>
		<p><a href="http://developer.android.com/sdk/installing/installing-adt.html" target="_blank">http://developer.android.com/sdk/installing/installing-adt.html</a></p>
		<p>Installing the tools will add the Android Virtual Device Manager and Android SDK Manager options in Eclipse.</p>
		
		<h3 class="short_headline" ><span><a name="settingAndroid">Setting up android project</a></span></h3>
		<p>Details and step-by-step instructions for setting up a new android project can be found here: 
		   <a href="http://developer.android.com/training/basics/firstapp/creating-project.html" target="_blank">http://developer.android.com/training/basics/firstapp/creating-project.html</a>
		</p>

		<p>Note that additional, advanced instructions are available from the same webpage, by following the appropriate links.  Information is available on the android manifest, view items (text boxes, buttons, etc.), activity listeners, and more.</p> 

		<h3 class="short_headline"><span><a name="settingMinrva">Setting up the Minrva Project and GreenDroid</a></span></h3>
		
		<div class="slide-to-top first-pane-open fancy">
						<ul class="accordion-st-wrapper">
							<li class="st-content-wrapper"><a href="#" class="trigger">1. Clone the Minrva project <i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>The first step is to clone the Minrva project repository.  In our example, it is done using Mercurial and TortoiseHG.  The repository can be found at the URL shown below. Clone the project to whichever local directory you choose.  When cloning, you will be prompted for the username and password.  Enter it to continue with the download
									</p>
									<img src="clone_m copy.jpg" class="aligncenter" alt="">
								</div>
								<!--close .st-content 1 --> 
							</li>
							<li class="st-content-wrapper"><a href="#" class="trigger">2.  Import the Minrva Project into Eclipse <i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>The next step is to import the project into eclipse, to begin editing.  As mentioned, we are using Eclipse version 4.2.  Start eclipse.  Once eclipse is up and running, we are going to import the project.  Select File->Import.  In the new window, select “Existing Android code into Workspace”.  
									</p>
									<img src="import_m copy.jpg" class="aligncenter" alt="">
									<p>
										In the new window, click “Browse” to locate the project directory. We have to navigate to the correct directory of the Minrva project.  As shown below, it is located at “[Cloned directory]\MinrvaApp\Android\Minrva”.  The Minrva folder is the root directory of the project, and that is the folder that must be selected for the import.  You can select any other options necessary on this screen, such as “Copy project into workspace”, which is convenient if the cloned directory is not within the eclipse workspace.  Once you have the settings set the way you would like, click finish to import the project.  Note that the project may be imported as “edu.illinois.ugl.minrva.core.SpringBoard”.  To change this, right-click on the project folder, and select Refactor->Rename.  Enter the new name, make sure “Update References” is checked, and click “Ok”.  Now the project will have a new name.
									</p>
									<img src="browse_m copy.jpg" class="aligncenter" alt="">
								</div>
								<!--close .st-content 1 --> 
							</li>
							<li class="st-content-wrapper"><a href="#" class="trigger">3.  Import GreenDroid<i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>The Minrva app makes use of an outside library, known as GreenDroid, to create many of the UI elements.  To use this functionality, the GreenDroid project must also be imported, following the same steps as above.  Select File->Import as before, and select “Existing Android code into Workspace”.  In the new window, click “Browse”, and navigate to the same directory as before, but select the “GreenDroid” folder, instead of “Minrva”.  Click “Finish” when done. 
									</p>
								</div>
								<!--close .st-content 1 --> 
							</li>
							<li class="st-content-wrapper"><a href="#" class="trigger">4.  Link GreenDroid and Minrva <i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>Now that both project are imported, it is necessary to link the two. This is a fairly simple process.  Right-click on the Minrva project, and select properties.  In the new window, select “Android” from the left-hand menu.  In the “Library” section, click “Remove” to remove the GreenDroid reference.  Then, click “Add” to re-add the GreenDroid library (If the imports worked as described, the GreenDroid library should be immediately visible.  If not, try importing the projects again).   
									</p>
									<img src="link.png" class="aligncenter" alt="">
								</div>
								<!--close .st-content 1 --> 
							</li>
							<li class="st-content-wrapper"><a href="#" class="trigger">5.  Start the application <i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>Now that everything is imported and linked, we can start the application on an android device.  To run the application, simply right-click on the project in eclipse, and select Run As->Android Application.  
   									</p>
   									<h6>5a.  Running on an emulator</h6>
   									<p>An emulator should be established when the android SDK was installed.  By default, if no device is plugged in, the application will run on the emulator.  If not, please follow 
										<a href="http://developer.android.com/tools/devices/index.html">these instructions</a> for setting up the emulator.  After the emulator is installed, clicking Run As->Android Application will launch the emulator (if it is not already open), install and run the app (on the emulator).  After the emulator and application are launched, they can be interacted with as usual.
									</p>
									<h6>5b.  Running on a connected device</h6>
   									<p>Instructions for running on a connected device can be found <a href="http://developer.android.com/tools/device.html">here</a>.  If an android device is plugged in, eclipse should automatically run the application on that device.  The application should start automatically.  If a previous version of the application has already been installed on the device, you may be prompted to remove the old version before continuing.  Instructions for removing applications will differ by device.  Please consult the manufacturer’s instructions for your particular device.  Once the application is removed, follow step 5 to start the application again.  
									</p>
								</div>
								<!--close .st-content 1 --> 
							</li>
							<li class="st-content-wrapper"><a href="#" class="trigger">6.  Start using Minrva!<i class="icon-chevron-up"></i></a>
								<div class="st-content">
									<p>
										That’s all it takes to get Minrva up and running for development!  You can now start creating your own module, following the steps below.  We will go through a basic tutorial on creating your own simple module that showcases some of the features available to you.
									</p>
									<p>	
										Note that some modules will require a special username/password login to access.  Consult your sysadmin for more information.  Also note that most modules will require a persistent internet connection to function correctly, and the app may crash if one is not established.  WiFi is recommended, but mobile data will work as well.  Internet pass-through is untested, and may produce unwanted results.  
 									</p>
								</div>
								<!--close .st-content 1 --> 
							</li>

						</ul>
						<!--close ul for slide-to-top slideaccordion--> 
		</div>

		<h3 class="short_headline"><span><a name="generalModule">General module example (this is how the app generally works!)</a></span></h3>
			<ul>
				<li>
					<p>This is a basic overview of how the Fines module works.  It is meant to give an introduction to the basics of how the Minrva application works at a more basic level, and to facilitate development of a new module.  We will also look at another, more in depth example briefly later or, to elaborate on the background web services.  Additionally, we will also provide a step by step module creation example, detailing the entire process. 
					</p>
				</li>
				<li>
					<p>The first portion to discuss is the code to create the activity: onCreate.  This is called when the activity starts, and is responsible for establishing the basics.  	
					</p>
				</li>
			</ul>
			<pre class="code language-html">
				public void onCreate(Bundle savedInstanceState) 
				{
					// Load
					super.onCreate(savedInstanceState);
					setActionBarContentView(R.layout.fines_main);

					// Get reference
					activity = this;
					
					// Setup title bar
					dropDownSetup();

				    // Get layout elems.
			        tv = (TextView) findViewById(R.id.message);
			        
				    // List
			        lis = new ArrayList &lt; ListItem &gt;();
			        ma = new MinrvaAdapter(this, lis);
					lv = (ListView)findViewById(R.id.fines_list);
			        lv.setAdapter(ma);

			        // Create login form
			        lf = new LoginForm(this, this, R.string.fines_acc_type, R.string.fines_auth);
			        
			        // Log user in
			        lf.login();
				}
			</pre>

			</br>
			<ul>
				<li>
					<p>The first two lines will be the default code added by the new project.  They read the provided layout file (“fines_main.xml”), and translate that to what is seen on the screen.  
					</p>
				</li>
				<li>
					<p>The next line after that will get a reference to the current activity.  This particular reference is used later on to show a progress bar.  In general, whenever any kind of dialog box, progress bar, etc. is shown on top of an application, it (the box) requires a reference to the current activity (window) that it is displayed on.  	
					</p>
				</li>
				<li>
					<p>Next up is code to setup the dropdown menu used by the module.  Unless changes need to be made, this can be left alone. 
					</p>
				</li>
				<li>
					<p>The next two sets of lines are responsible for getting references to the screen elements.  This module uses two elements:
					</p>
					<ul>
						<li>
							<p>
								A TextView for displaying a message to the user (in this case, the total dollar amount of the fines)
							</p>
						</li>
						<li>
							<p>
								A ListView for displaying the list of fines.  When using a ListView, it is necessary to set an adapter that handles how the input data is displayed on the list.  In this case, the MinrvaAdapter handles this, and can just be setup as shown, unless a custom adapter is required.
							</p>
						</li>
					</ul>
				</li>
				<li>
					<p>The final step is to invoke the login screen.  Again, this is handled exactly as shown above.  The parameters are a LoginHandler, Activity, and two webservice uris, which describe the type of webservice that should be called (on a successful login).
					</p>
				</li>
			</ul>
		<h3>Logging in & Fines.onSuccessfulLogin()</h3>
			<pre class="code language-html">
			
				/**
				 * Handler for login that has authenticated credentials.
				 */
				 
				 public void onSuccessfullLogin(String username, String password)
				 {
				  	new DownloadFines().execute(username, password);
				 }
			</pre>
			<p>
				After login() is called in onCreate(), onSuccessfulLogin() is called when the user enters in a valid username and password into the dialog box displayed by login(). That username and password combination is then sent to a subclass of AsyncTask: DownloadFines, which actually downloads and displays the user’s fines.
			</p>
			<h3>The DownloadFines Class</h3>
			<pre class="code language-html">
				/**
				 * AsyncTask used to download data from MinrvaServices api.
				 */
				private class DownloadFines extends AsyncTask &lt; String, Void, Fine[] &gt; 
			    {    	
					ProgressDialog progressDialog;
				
			        @Override
			        protected void onPreExecute()
			        {
			        	// Clear current list before downloading more stuff
			        	lis.clear();
			    		ma.notifyDataSetChanged();

			    		// Show a loading dialog
			            progressDialog = ProgressDialog.show(activity, "", "Loading...");
			        }
			        
			        @Override
					protected Fine[] doInBackground(String... params) 
			    	{ 
			        	// Add username and password to post data
						List &lt; NameValuePair &gt; nameValuePairs = new ArrayList &lt; NameValuePair &gt;();
						nameValuePairs.add(new BasicNameValuePair("username", params[0]));
			        	nameValuePairs.add(new BasicNameValuePair("password", params[1]));
				    		
						// Download data
				        String uri = getString(R.string.fines_list);
				        Fine[] fines = HTTP.downloadObjects(nameValuePairs, uri, Fine[].class);
				        return fines;        
			        }
			        
			        @Override
					protected void onPostExecute(Fine[] fines) 
				    {
						if(fines.length == 0)
						{
							tv.setVisibility(View.VISIBLE);
							lv.setVisibility(View.GONE);
						}
						else
						{
							tv.setVisibility(View.VISIBLE);
							lv.setVisibility(View.VISIBLE);
						}
						
						bindData(fines);
			    		ma.notifyDataSetChanged();
			            progressDialog.dismiss();   
				    }
			    }
			</pre>    

			<p>
			</br>
				Even though the class is started by creating an instance of it and calling execute(), the actual functionality is split into several functions.
			    </br>
				In this example, there are three functions that are executed in this order when execute() is called:
			</p>
			<ol>
				<li>onPreExecute()</li>
				<li>doInBackground()</li>
				<li>onPostExecute()</li>
			</ol>
			<p>
				These three functions are already included in the base AsyncTask class; any AsyncTask will generally follow this execution structure.
			    </br>
				In the Fines class, the functionality has been overriden to do these things:
			</p>
			<ul>
				<li> <strong>onPreExecute()</strong> - this method clears the current view and shows a “Loading...” dialog while the next two methods run</li>
				<li><strong>doInBackground()</strong> - this method asynchronously sends the credentials given in the execute() method for the class to the server using a specific fines data URL, and receives a JSON object from the server</li>
				<li><strong>onPostExecute() </strong>- this method processes the received data and updates the UI of the Fines activity to display the received data</li>
			</ul>
		<h3> The bindData() method </h3>
			<pre class="code language-html">
				/**
				 * Add data to array of data that is bound to list adapter. This function is responsible for layout design of list items.
				 * 
				 * @param fines
				 * @return
				 */
				public void bindData(Fine[] fines)
				{
					double total = 0;
					
					for(int i = 0; i < fines.length; i++)
					{  
						// Get fine
						Fine fine = fines[i];
						 
						// Get data from fine
						String inst = fine.getInstitution();
						String[] dates = fine.getDates();
						String[] titles = fine.getTitles();
						String[] types = fine.getTypes();
						String[] amounts = fine.getAmounts();
					
						// Format data and add to list view
						for(int j = 0; j < types.length; j++)
						{
							boolean zero = amounts[j].compareToIgnoreCase("") == 0;
							
							if(!zero)
							{
								// Calculate total
								if(!amounts[j].equalsIgnoreCase(""))
								{
									try { total += Double.parseDouble(amounts[j]); }
									catch(NumberFormatException e) {}
								}
								
								// String
								String txt = "";
								txt += "&lt;b&gt;Type:&lt;/b&gt; " + types[j] + "&lt;br/&gt;";
								txt += "&lt;b&gt;Date:&lt;/b&gt; " + dates[j] + "&lt;br/&gt;";
								txt += "&lt;b&gt;Location:&lt;/b&gt; " + inst + "&lt;br/&gt;";
								Spanned s = Html.fromHtml(txt);
								String amt = "$" + amounts[j];
								 
								// Build List Item 1
								ItemView ivTitle = new ItemView(titles[j], R.id.title);
								ItemView ivInfo = new ItemView(s, R.id.info);
								ItemView ivAmount = new ItemView(amt, R.id.amount);
								
								// List Item
								ListItem li1 = new ListItem(null, R.layout.fines_li, false);
								li1.add(ivTitle);
								li1.add(ivInfo);
								li1.add(ivAmount);
								
								// Build List Item 2
								ListItem li2 = new ListItem(null, R.layout.fines_div, false);
								
								// Add List Items to list
								lis.add(li1);
								
								if(i != fines.length - 1 || j != types.length - 1)
									lis.add(li2);
							}
						}			 
					}
					
					// Make total cost message
					String txt = "You owe: ";
					if(total > 0)
					{
				        DecimalFormat df = new DecimalFormat("#.00");
						txt += "$" + df.format(total);
					}
					else
						txt += "nothing!";
						
					// Display total cost message
					tv.setText(txt);    
				}
			</pre>

			<p>
			</br>
				This method examines the JSON object returned by the server and puts the data it found into a ListView that will display the fines information. At the end of the method, the total amount of the fines returned by the server is calculated and put into a TextView that is then displayed at the top of the Fines page.
			</p>
		<h3 class="short_headline"><span><a name="createNew">Creating a new module for Minrva</a></span></h3>
		<p> Start creating a new module by creating a new package (File->New->Package or right-click on the project->New->Package) in the Source Code Tree.  In this example we’ll name it “edu.illinois.ugl.minrva.hello_world”; then create a class file for the module named “HelloWorld.java”, leaving every field except for “Name” as the default. 
		</p>
		<img src="newjavapackage.jpg" class="" alt="">
		</br>
		<img src="newjavaclass.jpg" class="" alt="">
		</br>
		<p>
			The file should contain only a little bit of code; it should look like this: </br>

			<pre class="code language-html">

				package edu.illinois.ugl.minrva.hello_world;
				public class HelloWorld {

				}	 
			</pre>

		    

			The Minrva application uses the GreenDroid application for a lot of functionality, so instead of using the Activity superclass, Minrva modules will subclass “GDActivity”. So the first change to make would be changing the class definition to this:</br>

			<pre class="code language-html">

				package edu.illinois.ugl.minrva.hello_world;

				import greendroid.app.GDActivity;

				public class HelloWorld extends GDActivity {

				}
			</pre>


			<p>We’ll start creating our new Hello World app by basing our code from the Cite module since it contains the basic structure of a Minrva module that doesn’t need authentication functionality. In particular, we’ll start with these two pieces: </p>

			<ul>
				<li>onCreate()</li>
				<li>an AsyncTask class with:</li>
					<ul>
						<li>onPreExecute()</li>
						<li>doInBackground()</li>
						<li>onPostExecute()</li>
					</ul>
			</ul>

			Start by adding the onCreate() method in HelloWorld.java by copying the following code inside the HelloWorld class: </br>
			
			<pre class="code language-html">
				private Activity activity;;
				// Passing it along
				int imageId;
				String lbl;

				private TextView hello_world_citation;
					
				@Override
				public void onCreate(Bundle savedInstanceState) 
				{
					// Load
					super.onCreate(savedInstanceState);
				 
					// Title bar
					setActionBarContentView(R.layout.hello_world);

					// Citation Text View
					hello_world_citation = (TextView)findViewById(R.id.hello_world_citation);
					   
					// Get stuff...
					activity = this;
					lbl = getIntent().getStringExtra(GD_ACTION_BAR_TITLE);
					imageId = getIntent().getIntExtra(GD_ACTION_BAR_ICON, R.drawable.stub);
				}	
			</pre><!--close pre-->

				Then copy this code for the DownloadHelloWorldCitation class into the HelloWorld class; it contains the code that handles the citation download: </br>

			<pre class="code language-html">
				private class DownloadHelloWorldCitation extends AsyncTask &lt; Void, Void, Citation[] &gt; 
				    {    	
						ProgressDialog progressDialog;
						
				        @Override
				        protected void onPreExecute()
				        {
				    		// Show a loading dialog
				            progressDialog = ProgressDialog.show(activity, "", "Loading...");       
				        }
				        
						protected Citation[] doInBackground(Void... params) 
				    	{ 			
							// Download data
					        String cite_uri = getString(R.string.cite_apa);
					        cite_uri +=  "/uiu_6957086";
					        Citation[] citations = HTTP.downloadObjects(cite_uri, Citation[].class);
					        return citations;        
				        }
						
						protected void onPostExecute(Citation[] citations) 
					    {
				            progressDialog.dismiss();   

				            String errMsg = "Sorry, no APA citation is available.";
							if(citations == null || citations.length == 0 || citations[0].getCitation().length() == 0)
							{
								Toast.makeText(activity, errMsg, Toast.LENGTH_LONG).show();
							}
							else
							{
								hello_world_citation.setText(Html.fromHtml(citations[0].getCitation()));
							}
					    }
				    }
			
			</pre><!--close pre-->

			<p> Finally, add this method to the HelloWorld class; this is the method that starts the download of the citation once the button is touched: </p>


			<pre class="code language-html">
			
				public void done(View v)
				{
					new DownloadHelloWorldCitation().execute();
				}
			</pre>


			<p>This completes the basic structure for our module. Now, it needs to be integrated into the rest of the app; it can’t be reached by the main components of the 	existing Minrva application until these steps are completed: </br>
				
				<ul>
					<li> Open Springboard.java in package edu.illinois.ugl.minrva.core; add a statement to import the HelloWorld class</li>
						<ul>
							<li>import edu.illinois.ugl.minrva.hello_world.HelloWorld</li>
						</ul>
					<li>Add this line to the onCreate() method in SpringBoard.java:</li>
						<ul>
							<li> mFams.add(new Family("Hello World!", R.drawable.ic_launcher_owl, HelloWorld.class)); </li>
							<ul>
								<li>
									place it next to the other mFam.add() statements in onCreate()
								</li>
							</ul>
						</ul>
						
					<li> Add your new HelloWorld class to AndroidManifest.xml, in the res folder, by adding this line to your AndroidManifest.xml file, next to the other activity elements </li>
					<ul>
						<li>&lt;activity android:name=".hello_world.HelloWorld" android:configChanges="orientation|keyboardHidden"/&gt;</li>
					</ul>
					<li>
						Create a file called hello_world.xml in the layout folder, and copy the contents of the hello_world.xml code listed below into it
					</li>
					<ul>
						<li>This creates a layout for the module when it’s displayed; it’s based on the layout of the existing Fines module.</li>
					</ul>
				</ul>
			</p>
			
			<h3 class="short_headline"><span><a name="finalCode">Final Code</a></span></h3>
			<h4> HelloWorld.java </h4>

			<pre class="code language-html">
				package edu.illinois.ugl.minrva.hello_world;

				import android.app.Activity;
				import android.app.ProgressDialog;
				import android.content.Intent;
				import android.os.AsyncTask;
				import android.os.Bundle;
				import android.text.Html;
				import android.view.View;
				import android.widget.TextView;
				import android.widget.Toast;
				import edu.illinois.ugl.minrva.R;
				import edu.illinois.ugl.minrva.cite.Display;
				import edu.illinois.ugl.minrva.cite.models.Citation;
				import edu.illinois.ugl.minrva.core.SpringBoard;
				import edu.illinois.ugl.minrva.core.connections.HTTP;
				import greendroid.app.GDActivity;
				import android.widget.RadioGroup;

				public class HelloWorld extends GDActivity {
				private Activity activity;; // keep these two semicolons
				    
					// Passing it along
					int imageId;
					String lbl;
					
					private TextView hello_world_citation;
					
				    @Override
				    public void onCreate(Bundle savedInstanceState) 
				    {
					   // Load
					   super.onCreate(savedInstanceState);
				 
					   // Title bar
					   setActionBarContentView(R.layout.hello_world);
					   
					   // Citation Text View
					   hello_world_citation = (TextView)findViewById(R.id.hello_world_citation);
					   
					   // Get stuff...
					   activity = this;
					   lbl = getIntent().getStringExtra(GD_ACTION_BAR_TITLE);
					   imageId = getIntent().getIntExtra(GD_ACTION_BAR_ICON, R.drawable.stub);
				    }
				    
				    /**
				     * Done button. 
				     * @param v
				     */
					public void done(View v)
				    {
						new DownloadHelloWorldCitation().execute();
				    }
					
					/**
					 * AsyncTask used to download data from MinrvaServices api.
					 */
					private class DownloadHelloWorldCitation extends AsyncTask &lt; Void, Void, Citation[] &gt;
				    {    	
						ProgressDialog progressDialog;
						
				        @Override
				        protected void onPreExecute()
				        {
				    		// Show a loading dialog
				            progressDialog = ProgressDialog.show(activity, "", "Loading...");       
				        }
				        
						protected Citation[] doInBackground(Void... params) 
				    	{ 			
							// Download data
					        String cite_uri = getString(R.string.cite_apa);
					        cite_uri +=  "/uiu_6957086";
					        Citation[] citations = HTTP.downloadObjects(cite_uri, Citation[].class);
					        return citations;        
				        }
						
						protected void onPostExecute(Citation[] citations) 
					    {
				            progressDialog.dismiss();   

				            String errMsg = "Sorry, no APA citation is available.";
							if(citations == null || citations.length == 0 || citations[0].getCitation().length() == 0)
							{
								Toast.makeText(activity, errMsg, Toast.LENGTH_LONG).show();
							}
							else
							{
								hello_world_citation.setText(Html.fromHtml(citations[0].getCitation()));
							}
					    }
				    }
				}

				</pre>

				<h4> hello_world.xml </h4>

				<pre class="code language-html">

				&lt; ?xml version="1.0" encoding="utf-8"? &gt;
				
				&lt;ScrollView 
				xmlns:android="http://schemas.android.com/apk/res/android"
				android:layout_height = "wrap_content"
				android:layout_width = "fill_parent" 
				&gt;

					&lt;LinearLayout
					android:layout_width="fill_parent"
					android:layout_height="wrap_content"
					android:orientation="vertical" 
					&gt;
					
						&lt;View
						android:id="@+id/div"
						android:layout_height="2dp"
						android:layout_width="fill_parent"
						android:background="@color/goldenrod_8" 
						/&gt;
						
						&lt;Button
						android:id="@+id/btnDone"
						android:layout_width="fill_parent"
						android:layout_height="wrap_content"
				        	android:text="Hello World! (citation)"
				        	android:onClick="done"
						android:layout_marginTop="10dp" 
				       	android:layout_marginLeft="10dp"
				  	 	android:layout_marginRight="10dp"
				    	/&gt;
						
						&lt;TextView
				 		android:id="@+id/hello_world_citation"
				 		android:textColor="@color/black"
				 		android:textSize="@dimen/medium_font" 
				 		android:background="@drawable/citation_shape"
				 		android:layout_width="fill_parent"
						android:layout_height="wrap_content"
						android:padding="5dp"
						android:layout_marginTop="10dp"
						android:layout_marginLeft="10dp"
				  	 	android:layout_marginRight="10dp"
						/&gt;
					&lt;/LinearLayout&gt;
				&lt;/ScrollView&gt;

			</pre>


			</br>
			<h4> Final Module Screenshot </h4>
			<img src="final_module.jpg" class="" alt="">

		
	</div>
	<!--close .container id="main-content" --> 
	
	<!--begin footer -->
	<footer id="footer" class="clearfix">
		<div class="container"><!--footer container-->
			
			
			<div class="row-fluid">
				<div class="span4">
					<section>
						<h4>Contact Us</h4>
						<p>Crisp Creative<br>
							1255 Nowhere Street<br>
							Tampa, FL 33655<br>
							<strong>phone:</strong> <a href="tel:8135551234" class="tele">813.555.1234</a><br>
							<strong>fax:</strong> 813.555.1235<br>
							<strong>email:</strong> <a href="mailto:email@domain.com">crisp@companydomain.com</a> </p>
					</section>
					<!--close section-->
					
					<section>
						<h4>Follow Us</h4>
						<ul class="social">
							<li><a class="socicon rss" href="#" title="RSS"></a></li>
							<li><a class="socicon facebook" href="#" title="Facebook"></a></li>
							<li><a class="socicon twitterbird" href="#" title="Twitter"></a></li>
							<li><a class="socicon linkedin" href="#" title="LinkedIn"></a></li>
							<li><a class="socicon dribbble" href="#" title="dribble"></a></li>
							<li><a class="socicon vimeo" href="#" title="Vimeo"></a></li>
						</ul>
					</section>
					<!--close section--> 
				</div>
				<!-- close .span4 --> 
				
				<!--section containing newsletter signup and recent images-->
				<div class="span4">
					<section>
						<h4>Stay Updated</h4>
						<p>Sign up for our crispy newsletter. We won't share your email address.</p>
						<form action="yourscript.php" method="post">
							<div class="input-append">
								<input type="email" placeholder="Email Address" class="span6" name="email" />
								<button class="btn btn-primary">Sign Up</button>
							</div>
							<!--close input-append-->
						</form>
					</section>
					<!--close section-->
				</div>
				<!-- close .span4 --> 
			</div>
			<!-- close .row-fluid--> 
		</div>
		<!-- close footer .container--> 
		
		<!--change this to your stuff-->
		<section class="footerCredits">
			<div class="container">
				<ul class="clearfix">
					<li>© 2012 Your Company Name. All rights reserved.</li>
					<li><a href="sitemap.html">Site Map</a></li>
					<li><a href="privacy.html">Privacy</a></li>
				</ul>
			</div>
			<!--footerCredits container--> 
		</section>
		<!--close section--> 
	</footer>
	<!--/.footer--> 
	
	<span class="backToTop"><a href="#top">back to top</a></span> </div>
<!-- close #page--> 

<!-- JS JQuery ================ --> 
<script src="assets/js/bootstrap.min.js"></script><!--transitions, tooltips, popover, buttons, modals, alert messages--> 
<script src="assets/js/ddsmoothmenu-min.js"></script><!-- desktop edge detect menu --> 
<script src="assets/js/jquery.dcjqaccordion.2.7.min.js"></script><!-- mobile multi-level accordion menu --> 
<script src="assets/js/jquery.easytabs.min.js"></script><!-- tabs/testimonials --> 
<script src="assets/js/slide-to-top-accordion-min.js"></script><!-- slide to top accordion toggle --> 
<script src="assets/js/jquery.easing-1.3.min.js"></script><!--easing--> 
<script src="assets/js/jquery.flexslider-min.js"></script><!--flexslider content slider twitter slider and initializations--> 
<script src="assets/js/responsive-tables.js"></script><!--responsive table--> 
<script src="assets/js/jquery.fitvid.js"></script><!-- responsive videos --> 

<script>
$(window).load(function() {
  $('.clientlogos').flexslider({
    animation: 'slide',
	slideshow: false,
    animationLoop: false,
    itemWidth: 183,
    itemMargin: 1,
    minItems: 1,
    maxItems: 6,
	controlNav: false,
	useCSS: false //thins type if true
  });
});
</script> 
<!-- scripts on this page ================ --> 
<script src="assets/js/fancybox/source/jquery.fancybox.pack.js"></script><!--main fancybox--> 
<script src="assets/js/fancybox/source/helpers/jquery.fancybox-media.js"></script><!--fancybox media--> 
<script src="assets/js/fancybox/source/helpers/jquery.fancybox-buttons.js"></script><!--fancybox buttons--> 
<script src="assets/js/fancybox/source/helpers/jquery.fancybox-thumbs.js"></script><!--fancybox thumbs--> 
<script src="assets/js/fancybox_init.js"></script><!--fancybox load--> 
<!--initialize scripts / custom scripts all pages--> 
<script src="assets/js/scripts.js"></script>
</body>
</html>